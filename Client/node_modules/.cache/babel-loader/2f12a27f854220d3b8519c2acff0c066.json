{"ast":null,"code":"import { useState, useEffect } from 'react';\nimport moment from 'moment';\n\nconst shortid = require('shortid');\n\nconst todaysDate = moment();\n\nfunction useApp(availableJobsList) {\n  const jobsList = availableJobsList;\n  const [error, setError] = useState('');\n  const [businessList, setBusinessList] = useState([]);\n  const [availableJobs, setAvailableJobs] = useState([]);\n  const businessNames = [\"Brothers\", \"Ophelia's\", \"Oskar Blues\", \"Slice Works\", \"Garbanzo\", \"Turing School of Software and Design\", \"Randos Bar & Grill\", \"Migration Taco\", \"Jax\", \"Whole Foods\", \"Union Station\", \"REI\", \"Tupelo Honey\", \"Denver Performing Arts Complex\", \"Beet Box Bakery\", \"Watercourse Food\", \"City O' City\", \"Make Believe Bakery\", \"Random Marijuana Shop\", \"Punchbowl Social\", \"3 Kings\", \"Lost Lake\", \"Some Lawyer's Office\", \"Wax Trax\"];\n  const numBathrooms = [1, 2, 3, 4];\n  const toiletsPerBathroom = [1, 2, 3, 4, 5, 6, 7];\n  const userId = [1, 2, 3, 4, 5];\n  const suppliesFee = [5, 10, 15, 20];\n  const numBreakrooms = [1, 2];\n  const jobDate = [];\n  const jobTime = [\"05:00\", \"06:00\", \"07:00\", \"08:00\", \"09:00\", \"10:00\", \"11:00\", \"12:00\", \"13:00\", \"14:00\", \"15:00\", \"16:00\", \"17:00\"];\n\n  const getRandomPeople = () => {\n    return fetch('https://randomuser.me/api/?results=20').then(res => res.json());\n  };\n\n  const addBusinessListToState = async () => {\n    const people = await getRandomPeople();\n    const peopleInColo = await movePeopleToColo(people.results);\n    const businessList = await turnPeopleIntoBusiness(peopleInColo);\n    const availableJobs = await createJob(businessList);\n    setBusinessList(businessList);\n    setAvailableJobs(availableJobs);\n  };\n\n  const movePeopleToColo = peopleInfo => {\n    return peopleInfo.map(person => {\n      const {\n        street\n      } = person.location;\n      const location = {\n        street: street,\n        city: 'Denver',\n        state: 'CO',\n        country: 'US',\n        postcode: 80202\n      };\n      person.location = location;\n      return person;\n    });\n  };\n\n  const turnPeopleIntoBusiness = peopleInfo => {\n    return peopleInfo.map(person => {\n      const randomBusiness = businessNames[Math.floor(Math.random() * businessNames.length)];\n      const businessBathrooms = numBathrooms[Math.floor(Math.random() * numBathrooms.length)];\n      const businessToiletsPerBathroom = toiletsPerBathroom[Math.floor(Math.random() * toiletsPerBathroom.length)];\n      const businessSinksPerBathroom = businessToiletsPerBathroom;\n      const businessBreakrooms = numBreakrooms[Math.floor(Math.random() * numBreakrooms.length)];\n      person.bathroomInfo = {\n        numBathrooms: businessBathrooms,\n        toiletsPerBathroom: businessToiletsPerBathroom,\n        sinksPerBathroom: businessToiletsPerBathroom\n      };\n      person.businessName = randomBusiness;\n      person.breakroomInfo = businessBreakrooms;\n      return person;\n    });\n  };\n\n  const createCost = currentBusiness => {\n    const {\n      numBathrooms,\n      toiletsPerBathroom,\n      sinksPerBathroom\n    } = currentBusiness.bathroomInfo;\n    const {\n      breakroomInfo\n    } = currentBusiness;\n    const travelFee = 5;\n    const cleanBreakroomFee = breakroomInfo * 5;\n    const cleanBathroomFee = numBathrooms * toiletsPerBathroom * 1.00 + numBathrooms * sinksPerBathroom * .50;\n    const time = jobTime[Math.floor(Math.random() * jobTime.length)];\n    const userAssigned = userId[Math.floor(Math.random() * userId.length)];\n    const suppliesCost = suppliesFee[Math.floor(Math.random() * suppliesFee.length)];\n    const cost = travelFee + cleanBathroomFee + cleanBreakroomFee + suppliesCost;\n    currentBusiness.jobCost = cost;\n    currentBusiness.jobTime = time;\n    currentBusiness.userId = userAssigned;\n    return currentBusiness;\n  };\n\n  const createJob = businessList => {\n    const jobWithCost = businessList.map(business => createCost(business));\n    const availableJobs = jobWithCost.map(job => {\n      const {\n        bathroomInfo,\n        breakroomInfo,\n        location,\n        phone,\n        picture,\n        name,\n        businessName,\n        jobCost,\n        userTime,\n        jobTime,\n        userId\n      } = job;\n      const newJob = {\n        jobId: shortid.generate(),\n        jobDate: todaysDate.format('MM/DD/YYYY'),\n        businessName: businessName,\n        location: location,\n        phone: phone,\n        contactPerson: name,\n        personImage: picture,\n        bathroomInfo: bathroomInfo,\n        breakroomInfo: breakroomInfo,\n        cost: jobCost,\n        time: jobTime,\n        employeeId: userId\n      };\n      return newJob;\n    });\n    return availableJobs;\n  };\n\n  useEffect(() => {\n    addBusinessListToState();\n  }, []);\n\n  if (jobsList.length === 0) {\n    return {\n      businessList: businessList,\n      availableJobs: availableJobs\n    };\n  }\n}\n\nexport default useApp;","map":{"version":3,"sources":["/Users/joehaefling/mod5/nine2five/src/App/UseApp.tsx"],"names":["useState","useEffect","moment","shortid","require","todaysDate","useApp","availableJobsList","jobsList","error","setError","businessList","setBusinessList","availableJobs","setAvailableJobs","businessNames","numBathrooms","toiletsPerBathroom","userId","suppliesFee","numBreakrooms","jobDate","jobTime","getRandomPeople","fetch","then","res","json","addBusinessListToState","people","peopleInColo","movePeopleToColo","results","turnPeopleIntoBusiness","createJob","peopleInfo","map","person","street","location","city","state","country","postcode","randomBusiness","Math","floor","random","length","businessBathrooms","businessToiletsPerBathroom","businessSinksPerBathroom","businessBreakrooms","bathroomInfo","sinksPerBathroom","businessName","breakroomInfo","createCost","currentBusiness","travelFee","cleanBreakroomFee","cleanBathroomFee","time","userAssigned","suppliesCost","cost","jobCost","jobWithCost","business","job","phone","picture","name","userTime","newJob","jobId","generate","format","contactPerson","personImage","employeeId"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport moment from 'moment';\nconst shortid = require('shortid');\nconst todaysDate = moment()\n\n\n\nfunction useApp(availableJobsList) {\n    const jobsList = availableJobsList\n    const [error, setError] = useState('')\n    const [businessList, setBusinessList] = useState([])\n    const [availableJobs, setAvailableJobs] = useState([])\n    const businessNames = [\n        \"Brothers\", \"Ophelia's\", \"Oskar Blues\", \"Slice Works\", \"Garbanzo\", \"Turing School of Software and Design\",\n        \"Randos Bar & Grill\", \"Migration Taco\", \"Jax\", \"Whole Foods\", \"Union Station\", \"REI\", \"Tupelo Honey\",\n        \"Denver Performing Arts Complex\", \"Beet Box Bakery\", \"Watercourse Food\", \"City O' City\", \"Make Believe Bakery\",\n        \"Random Marijuana Shop\", \"Punchbowl Social\", \"3 Kings\", \"Lost Lake\", \"Some Lawyer's Office\", \"Wax Trax\"\n    ]\n    const numBathrooms = [1, 2, 3, 4,]\n    const toiletsPerBathroom = [1, 2, 3, 4, 5, 6, 7]\n    const userId = [1, 2, 3, 4, 5]\n    const suppliesFee = [5, 10, 15 ,20]\n    const numBreakrooms = [1, 2]\n    const jobDate = []\n    const jobTime = [\n      \"05:00\",\n      \"06:00\",\n      \"07:00\",\n      \"08:00\",\n      \"09:00\",\n      \"10:00\",\n      \"11:00\",\n      \"12:00\",\n      \"13:00\",\n      \"14:00\",\n      \"15:00\",\n      \"16:00\",\n      \"17:00\"\n    ]\n\n\n    const getRandomPeople = () => {\n      return fetch('https://randomuser.me/api/?results=20')\n              .then(res => res.json())\n    }\n\n    const addBusinessListToState = async () => {\n        const people = await getRandomPeople()\n        const peopleInColo = await movePeopleToColo(people.results)\n        const businessList = await turnPeopleIntoBusiness(peopleInColo)\n        const availableJobs = await createJob(businessList)\n        setBusinessList(businessList)\n        setAvailableJobs(availableJobs)\n    }\n\n    const movePeopleToColo = (peopleInfo) => {\n        return peopleInfo.map(person => {\n            const {street} = person.location\n            const location = {\n                street: street,\n                city: 'Denver',\n                state: 'CO',\n                country: 'US',\n                postcode: 80202\n            }\n            person.location = location\n            return person\n        } )\n    }\n\n    const turnPeopleIntoBusiness = (peopleInfo) => {\n        return peopleInfo.map(person => {\n            const randomBusiness = businessNames[Math.floor(Math.random() * businessNames.length)];\n            const businessBathrooms = numBathrooms[Math.floor(Math.random() * numBathrooms.length)];\n            const businessToiletsPerBathroom = toiletsPerBathroom[Math.floor(Math.random() * toiletsPerBathroom.length)];\n            const businessSinksPerBathroom = businessToiletsPerBathroom\n            const businessBreakrooms = numBreakrooms[Math.floor(Math.random() * numBreakrooms.length)];\n\n            person.bathroomInfo = {numBathrooms: businessBathrooms, toiletsPerBathroom: businessToiletsPerBathroom, sinksPerBathroom: businessToiletsPerBathroom}\n            person.businessName = randomBusiness\n            person.breakroomInfo = businessBreakrooms\n            return person\n        })\n    }\n\n    const createCost = (currentBusiness) => {\n          const { numBathrooms, toiletsPerBathroom, sinksPerBathroom } = currentBusiness.bathroomInfo\n          const { breakroomInfo } = currentBusiness\n          const travelFee = 5\n          const cleanBreakroomFee = breakroomInfo * 5\n          const cleanBathroomFee = (numBathrooms * toiletsPerBathroom * 1.00) + (numBathrooms * sinksPerBathroom * .50)\n          const time = jobTime[Math.floor(Math.random() * jobTime.length)]\n          const userAssigned = userId[Math.floor(Math.random() * userId.length)]\n          const suppliesCost = suppliesFee[Math.floor(Math.random() * suppliesFee.length)];\n          const cost = travelFee + cleanBathroomFee + cleanBreakroomFee + suppliesCost\n          currentBusiness.jobCost = cost\n          currentBusiness.jobTime = time\n          currentBusiness.userId = userAssigned\n          return currentBusiness\n    }\n\n\n    const createJob = (businessList) => {\n      const jobWithCost = businessList.map(business => createCost(business))\n      const availableJobs =  jobWithCost.map(job => {\n      const { bathroomInfo, breakroomInfo, location, phone, picture, name, businessName, jobCost, userTime, jobTime, userId} = job\n        const newJob = {\n            jobId: shortid.generate(),\n            jobDate: todaysDate.format('MM/DD/YYYY'),\n            businessName: businessName,\n            location: location,\n            phone: phone,\n            contactPerson: name,\n            personImage: picture,\n            bathroomInfo: bathroomInfo,\n            breakroomInfo: breakroomInfo,\n            cost: jobCost,\n            time: jobTime,\n            employeeId: userId\n          }\n          return newJob\n      })\n      return availableJobs\n    }\n\n    useEffect(() => {\n\n        addBusinessListToState()\n    }, [])\n\n    if(jobsList.length === 0) {\n      return { businessList: businessList, availableJobs: availableJobs }\n    }\n\n}\n\n\nexport default useApp"]},"metadata":{},"sourceType":"module"}